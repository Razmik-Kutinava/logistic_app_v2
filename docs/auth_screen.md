
# Документация экрана регистрации / авторизации

## 1. Введение

Экран регистрации / авторизации необходим для входа водителя в систему. Это первый экран приложения, который позволяет водителю ввести уникальный пин-код, а затем номер телефона для завершения авторизации и доступа к остальной функциональности приложения.

## 2. Описание интерфейса

### UI элементы экрана авторизации

- **Поле для ввода пин-кода**
  - Описание: Водитель вводит пин-код, который предоставляется компанией.
  - Тип данных: Текст (цифры)
  - Формат ввода: 4-значный числовой пин-код
  - Максимальная длина: 4 символа
  - Валидация: Проверка на длину пин-кода (4 цифры). Сообщение об ошибке, если введено неверное количество символов.
  - Примечание: Пин-код не должен быть видимым (звездочки для скрытия)
  - Пример: Ввод: 1234

- **Поле для ввода номера телефона**
  - Описание: Водитель вводит номер телефона для авторизации.
  - Тип данных: Текст (строка)
  - Формат ввода: Стандартный номер телефона в международном формате (например, +374XXXXXXX для Армении)
  - Максимальная длина: 15 символов
  - Валидация: Проверка на корректность формата номера телефона. Сообщение об ошибке, если номер не соответствует формату.
  - Примечание: Использовать маску ввода для телефонного номера.
  - Пример: Ввод: +37499657830

- **Кнопка входа**
  - Описание: Кнопка для завершения процесса авторизации
  - Текст кнопки: "Войти"
  - Состояние кнопки: Кнопка активна только после того, как введены оба поля (пин-код и номер телефона)
  - Действие при нажатии: При нажатии на кнопку происходит валидация введенных данных. Если данные корректны, пользователь переходит на главный экран приложения. Если данные некорректны, показывается сообщение об ошибке.

- **Интерфейс подтверждения**
  - Описание: После успешной авторизации появляется всплывающее окно с сообщением о том, что авторизация прошла успешно.
  - Текст окна: "Вы успешно авторизовались. Добро пожаловать!"
  - Кнопка подтверждения: "Ок" (закрытие окна и переход на главный экран)
  - Действие: После нажатия на кнопку "Ок" приложение переходит на главный экран с тремя вкладками: Активные заказы, В работе, Завершенные.

## 3. Логика авторизации

1. Водитель запускает приложение и попадает на экран авторизации.
2. Водитель вводит пин-код, полученный от компании, и номер телефона.
3. Приложение выполняет валидацию:
   - Пин-код должен быть 4 цифры
   - Номер телефона должен соответствовать международному формату
4. После успешной валидации данных:
   - Происходит отправка запроса на сервер (например, на PHP-API) для проверки правильности пин-кода и номера телефона
   - Если данные верны, происходит успешная авторизация, и пользователь получает доступ к основным функциям приложения
   - В случае ошибки (неверный пин-код или номер телефона) отображается соответствующее сообщение об ошибке
5. Если авторизация успешна, показывается всплывающее окно с сообщением "Вы успешно авторизовались"
6. После подтверждения, приложение переходит на главный экран

## 4. Валидация данных

- **Пин-код**
  - Проверка на длину: 4 символа
  - Проверка на цифры: все символы должны быть числовыми
  - Ошибка при неверном пин-коде: "Неверный пин-код"

- **Номер телефона**
  - Проверка формата номера телефона: должен начинаться с "+" и содержать от 8 до 15 цифр
  - Ошибка при неверном формате: "Неверный номер телефона"

- **Кнопка входа**
  - Кнопка доступна только при заполнении обоих полей (пин-код и номер телефона)

## 5. Интеракции и ошибки

- Если данные введены неверно:
  - В случае неверного пин-кода или номера телефона, появляется сообщение об ошибке
  - Кнопка входа остаётся неактивной до исправления ошибок

- Если авторизация прошла успешно:
  - Появляется всплывающее окно с сообщением об успешной авторизации
  - Переход на главный экран приложения (экран с тремя вкладками)

## 6. Требования к функционалу

- Платформы: iOS, Android
- Технические требования:
  - Взаимодействие с сервером для проверки авторизации
  - Безопасное хранение пин-кодов и номеров телефонов (использование шифрования данных)
  - Возможность добавления двухфакторной аутентификации в будущем

## 7. Стек технологий

- Flutter для UI
- Dart для бизнес-логики
- HTTP запросы для взаимодействия с сервером
- Firebase для хранения и синхронизации данных (опционально)

## 8. Примечания

- Безопасность:
  - Пин-код должен храниться в зашифрованном виде на сервере
  - Номер телефона должен быть защищен с использованием стандартных методов аутентификации и безопасности

- Пользовательский опыт (UX):
  - Все поля должны быть четко обозначены
  - Важно, чтобы приложение всегда подсказывало, что именно нужно исправить, если данные введены неверно
  - Плавные анимации для переходов между экранами

- Будущие улучшения:
  - Возможность добавления двухфакторной аутентификации
  - Поддержка регистрации новых пользователей, если требуется
