# Структура проекта

## Фактическая структура файлов

```bash
lib/
├── models/                          # Модели данных
│   ├── order_model.dart             # Основная модель заказа (с возвратами)
│   ├── order.dart                   # Дополнительная модель заказа
│   ├── user.dart                    # Модель пользователя/водителя
│   └── status_history.dart          # История изменений статусов
│
├── screens/                         # Экраны приложения
│   ├── splash_screen.dart           # Экран загрузки
│   ├── auth_phone_screen.dart       # Авторизация по телефону
│   ├── auth_pin_screen.dart         # Авторизация по PIN (устаревший)
│   ├── auth_screen.dart             # Базовый экран авторизации (пустой)
│   ├── home_screen.dart             # Главный экран с TabBar и заказами
│   └── driver_profile_screen.dart   # Профиль водителя
│
├── widgets/                         # Переиспользуемые виджеты
│   └── order_card.dart              # Карточка заказа с PIN логикой
│
├── services/                        # Сервисы (пустая папка)
├── main.dart                        # Точка входа приложения
├── phone_screen.dart                # Временный файл (игнорируется)
└── pin_screen.dart                  # Временный файл (игнорируется)
```

## Архитектурные слои

### Presentation Layer (UI)

- **screens/** - экраны приложения
- **widgets/** - переиспользуемые компоненты  
- **main.dart** - маршрутизация и конфигурация

### Data Layer

- **models/** - модели данных
- Локальное управление состоянием через StatefulWidget

### Business Logic

- Встроена в виджеты через callback функции
- Централизована в HomeScreen для управления заказами

## Ключевые файлы

### lib/main.dart

Точка входа приложения с маршрутизацией:

```dart
routes: {
  '/splash': (context) => const SplashScreen(),
  '/auth': (context) => const AuthPhoneScreen(),
  '/main': (context) => HomeScreen(),
  '/profile': (context) => DriverProfileScreen(...),
}
```

### lib/models/order_model.dart

Расширенная модель заказа с поддержкой:

- Всех статусов (active, inProgress, completed, cancelled, refundRequired)
- Системы возвратов (refundRequestDate, refundReason)
- Трек-номеров (trackingNumber)
- Паспортных данных водителя

### lib/screens/home_screen.dart

Центральный экран приложения:

- TabBar с 4 вкладками (Активные, В работе, Завершенные, Возвраты)
- Управление состоянием всех заказов
- Счетчик зарплаты с бонусной системой
- Навигация в профиль водителя

### lib/widgets/order_card.dart

Карточка заказа с полным функционалом:

- Отображение всех данных заказа
- Интеграция с картами и телефонными звонками
- PIN-логика для завершения возвратов
- Выбор времени доставки
- Управление статусами

## Игнорируемые файлы

В `.gitignore` добавлены временные/ненужные файлы:

- `lib/phone_screen.dart`
- `lib/pin_screen.dart`
- `lib/screens/auth_screen.dart`

Эти файлы не влияют на работу приложения и не отслеживаются git.

## Принципы организации

1. **Модульность** - каждый экран/виджет в отдельном файле
2. **Callback архитектура** - состояние передается через функции-колбеки
3. **StatefulWidget подход** - для управления локальным состоянием
4. **Простая структура** - без сложных state management решений
5. **Готовность к расширению** - четкое разделение на слои для будущих интеграций
